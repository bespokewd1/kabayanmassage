---
import BaseLayout from 'src/layouts/BaseLayout.astro';
import CTA from '@components/CTA.astro';
import Landing from '@components/Landing.astro';
import FAQ from '@components/FAQ.astro';

// Optimize our landing image and pass it as props to the BaseLayout (for preloading) and Landing (for rendering)
import { getOptimizedImage } from '@js/utils';
import landingImage from '@assets/images/landing.jpg'; // <-- THE PATH TO THE ASSET YOU WANT TO PRELOAD - The asset must live in src
import WhyChooseUs from '@components/why-choose-us.astro';
const optimizedImage = await getOptimizedImage(landingImage);

type Role = 'Owner/Founder RMT' | 'Therapist';

interface TeamMember {
  role: Role;
  occupation: string; // e.g., 'Licensed Massage Therapist'
  since: string; // e.g., 'Since 2019'
  where?: string; // optional, e.g., 'Alberta, Canada' or 'BSPT, Philippines'
  name: string;
  bio: string;
}

// Data: owner/founder first in array (we’ll render owners first anyway)
const team: TeamMember[] = [
  {
    role: 'Owner/Founder RMT',
    occupation: 'Licensed Massage Therapist',
    since: 'Since 2019',
    where: 'RMT, Alberta',
    name: '',
    bio: 'Clinic founder and registered massage therapist with a restorative approach. Cecilia blends deep tissue and relaxation techniques to relieve pain, ease tension, and support lasting well‑being.',
  },
  {
    role: 'Therapist',
    occupation: 'Licensed Massage Therapist',
    since: 'Since 2024',
    where: 'RMT, Alberta',
    name: '',
    bio: ' provides attentive, client‑centered care—combining firm, focused work with a calming touch to reduce stress and help your body move with ease.',
  },
  {
    role: 'Therapist',
    occupation: 'Licensed Massage Therapist',
    since: 'Since 2025',
    where: 'RMT, Alberta',
    name: '',
    bio: ' creates a comfortable, relaxing environment while addressing specific concerns. Her thoughtful pressure and technique help release tension and restore balance.',
  },
];

// Helpers to keep Owner/Founder at the top
const owners = team.filter((m) => m.role === 'Owner/Founder RMT');
const therapists = team.filter((m) => m.role === 'Therapist');
const orderedTeam = [...owners, ...therapists];
---

<BaseLayout
  title="About Us"
  description="iMassage Therapeutic Clinique- Professional Massage Therapy"
  preloadedImage={optimizedImage}
>
  <!-- ============================================ -->
  <!--                    LANDING                   -->
  <!-- ============================================ -->

  <!-- <Landing title="About Us" image={optimizedImage} /> -->

<!-- ============================================ -->
<!--                    Team                      -->
<!-- ============================================ -->

<section id="meet-team-2071">
    <div class="cs-container">
        <div class="cs-content">
            <span class="cs-topper">Our Team</span>
            <h2 class="cs-title">Meet Our Team</h2>
            <p class="cs-text">
                Orci eu lobortis elementum nibh tellus. Vulputate eu scelerisque felis imperdiet proin fermentum leo vel. Luctus accumsan tortor posuere ac ut consequat semper. Et pharetra pharetra massa massa ultricies mi quis.
            </p>
        </div>
        <ul class="cs-card-group">
            <li class="cs-item">
                <span class="cs-name">Dr. Ronald Richards</span>
                <div class="cs-flex">
                    <span class="cs-job">Dental Surgeon</span>
                    <span class="cs-department">Cosmetic and Aesthetic Dentistry</span>
                </div>
            </li>
            <li class="cs-item">
                <span class="cs-name">Dr. Cameron Williamson</span>
                <div class="cs-flex">
                    <span class="cs-job">Dental Surgeon</span>
                    <span class="cs-department">Cosmetic and Aesthetic Dentistry</span>
                </div>
            </li>
            <li class="cs-item">
                <span class="cs-name">Dr. Brooklyn Simmons</span>
                <div class="cs-flex">
                    <span class="cs-job">Dental Surgeon</span>
                    <span class="cs-department">Cosmetic and Aesthetic Dentistry</span>
                </div>
            </li>
            <li class="cs-item">
                <span class="cs-name">Dr. Savannah Nguyen</span>
                <div class="cs-flex">
                    <span class="cs-job">Dental Surgeon</span>
                    <span class="cs-department">Cosmetic and Aesthetic Dentistry</span>
                </div>
            </li>
            <li class="cs-item">
                <span class="cs-name">Dr. Albert Flores</span>
                <div class="cs-flex">
                    <span class="cs-job">Dental Surgeon</span>
                    <span class="cs-department">Cosmetic and Aesthetic Dentistry</span>
                </div>
            </li>
            <li class="cs-item">
                <span class="cs-name">Dr. Eleanor Pena</span>
                <div class="cs-flex">
                    <span class="cs-job">Dental Surgeon</span>
                    <span class="cs-department">Cosmetic and Aesthetic Dentistry</span>
                </div>
            </li>
            <li class="cs-item">
                <span class="cs-name">Dr. Dianne Russell</span>
                <div class="cs-flex">
                    <span class="cs-job">Dental Surgeon</span>
                    <span class="cs-department">Cosmetic and Aesthetic Dentistry</span>
                </div>
            </li>
            <li class="cs-item">
                <span class="cs-name">Dr. Darlene Robertson</span>
                <div class="cs-flex">
                    <span class="cs-job">Dental Surgeon</span>
                    <span class="cs-department">Cosmetic and Aesthetic Dentistry</span>
                </div>
            </li>
        </ul>
    </div>
    <picture class="cs-background">
        <source media="(max-width: 600px)" srcset="https://csimg.nyc3.cdn.digitaloceanspaces.com/Images/People/dentist-staff.jpeg">
        <source media="(min-width: 601px)" srcset="https://csimg.nyc3.cdn.digitaloceanspaces.com/Images/People/dentist-staff.jpeg">
        <img loading="lazy" decoding="async" src="https://csimg.nyc3.cdn.digitaloceanspaces.com/Images/People/dentist-staff.jpeg" alt="dentist staff" width="1024" height="894">
    </picture>
</section>
                                
<!-- ============================================ -->
<!--                     CTA                      -->
<!-- ============================================ -->

<section id="cta-697">
    <div class="cs-container">
        <div class="cs-content">
            <h2 class="cs-title">Relief for Your Body, Calm for Your Mind</h2>
            <a href="/contact" class="cs-button-solid">Contact Us</a>
        </div>
    </div>
    <!--SVG Waves Background-->
    <img class="cs-background" src="https://csimg.nyc3.cdn.digitaloceanspaces.com/Images%2FGraphics%2Fwaves-3.svg" alt="wave graphic" width="1920" height="318" loading="lazy" decoding="async" aria-hidden="true">
</section>

  <!-- <FAQ /> -->
  <!-- <CTA title='Relief for Your Body, Calm for Your Mind' description='Personalized care that eases pain and restores well‑being.' /> -->


  <WhyChooseUs/>
</BaseLayout>

<style lang="less">

  /*-- -------------------------- -->
<!--            Team            -->
<--- -------------------------- -*/

/* Mobile - 360px */
@media only screen and (min-width: 0rem) {
    #meet-team-2071 {
        /* 240px - 480px top */
        /* 60px - 100px bottom */
        /* 16px left & right */
        padding: clamp(15rem, 30vw, 30rem) (16/16rem) clamp(3.75rem, 7.82vw, 6.25rem) (16/16rem);
        background-color: #FAF6F2;
        overflow: hidden;
        position: relative;

        &:before {
            content: "";
            width: 100%;
            height: 100%;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.00) 3.06%, #FFF 20.29%);
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
        }

        .cs-container {
            width: 100%;
            /* changes to 1280px at desktop */
            max-width: (704/16rem);
            margin: auto;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            /* 48px - 64px */
            gap: clamp(3rem, 6vw, 4rem);
            position: relative;
            z-index: 1;
        }

        .cs-content {
            text-align: center;
            width: 100%;
            max-width: (944/16rem);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .cs-text {
            max-width: none;
        }

        .cs-card-group {
            width: 100%;
            max-width: (1280/16rem);
            margin: 0;
            padding: 0;
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            row-gap: (40/16rem);
            position: relative;
        }

        .cs-item {
            text-align: center;
            list-style: none;
            width: 100%;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            grid-column: span 12;
            gap: (16/16rem);
        }

        .cs-name {
            font-size: (20/16rem);
            font-weight: 700;
            line-height: 1.2em;
            text-align: inherit;
            margin: 0;
            color: var(--headerColor);
        }

        .cs-flex {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: (4/16rem);
        }

        .cs-job {
            font-size: (16/16rem);
            font-weight: 700;
            line-height: 1.2em;
            text-align: inherit;
            margin: 0;
            color: var(--bodyTextColor);
        }

        .cs-department {
            font-size: (16/16rem);
            font-weight: 400;
            line-height: 1.5em;
            text-align: inherit;
            margin: 0;
            color: var(--bodyTextColor);
        }

        .cs-background {
            width: 100%;
            height: clamp(20%, 80vw, 100%);
            min-height: (420/16rem);
            display: block;
            position: absolute;
            top: 0;
            left: 0;

            img {
                width: 100%;
                height: 100%;
                opacity: .6;
                /* makes image act as a background image */
                object-fit: cover;
                object-position: bottom;
                position: absolute;
                top: 0;
                left: 0;
            }
        }
    }
}

/* Tablet - 768px */
@media only screen and (min-width: 48rem) {
    #meet-team-2071 {
        &:before {
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.00) 19.7%, #FFF 45.39%);
        }

        .cs-card-group {
            gap: (40/16rem) (80/16rem);
        }

        .cs-item {
            text-align: left;
            align-items: flex-start;
            grid-column: span 6;
        }

        .cs-flex {
            align-items: flex-start;
        }
    } 
}

/* Desktop - 1024px */
@media only screen and (min-width: 64rem) {
    #meet-team-2071 {
        &:before {
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.00) 19.7%, rgba(255, 255, 255, 0.92) 59.51%);
        }

        .cs-container {
            max-width: (1280/16rem);
        }

        .cs-item {
            grid-column: span 4;
        }
    }
}

/* Large Desktop - 1300px */
@media only screen and (min-width: 81.25rem) {
    #meet-team-2071 {
        .cs-item {
            grid-column: span 3;
        }
    }
}

/*-- -------------------------- -->
<---            CTA             -->
<--- -------------------------- -*/

/* Mobile - 360px */
@media only screen and (min-width: 0rem) {
    #cta-697 {
        padding: 3rem;
        background-color: var(--primary);
        position: relative;
        z-index: 1;

        .cs-container {
            width: 100%;
            max-width: (1280/16rem);
            margin: auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            /* 48px - 64px */
            gap: clamp(3rem, 6vw, 4rem);
        }

        .cs-content {
            /* set text align to left if content needs to be left aligned */
            text-align: center;
            width: 100%;
            display: flex;
            flex-direction: column;
            /* centers content horizontally, set to flex-start to left align */
            align-items: center;
            /* 48px - 64px */
            gap: clamp(3rem, 6vw, 4rem);
        }

        .cs-title {
            color: var(--bodyTextColorWhite);
        }

        .cs-button-solid {
            font-size: (16/16rem);
            /* 46px - 56px */
            line-height: clamp(2.875rem, 5.5vw, 3.5rem);
            text-decoration: none;
            font-weight: 700;
            text-align: center;
            margin: 0;
            color: #000;
            min-width: (150/16rem);
            padding: 0 (24/16rem);
            background-color: var(--secondary);
            border-radius: (4/16rem);
            display: inline-block;
            position: relative;
            z-index: 1;
            /* prevents padding from adding to the width */
            box-sizing: border-box;

            &:before {
                content: "";
                position: absolute;
                height: 100%;
                width: 0%;
                background: #000;
                opacity: 1;
                top: 0;
                left: 0;
                z-index: -1;
                border-radius: (4/16rem);
                transition: width 0.3s;
            }

            &:hover {
              color: #fff;
                &:before {
                    width: 100%;
                }
            }
        }

        .cs-background {
            width: 100%;
            height: 100%;
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            z-index: -1;
            /* makes it act like a background image */
            object-fit: cover;
        }
    }
}

/* Small Desktop - 1024px */
@media only screen and (min-width: 64rem) {
    #cta-697 {
        .cs-content {
            text-align: left;
            flex-direction: row;
            justify-content: space-between;
        }
    }
}
                                
  /* PAGE-SPECIFIC STYLES FOR THE ABOUT PAGE */

  /*-- -------------------------- -->
<---       Side By Side         -->
<--- -------------------------- -*/

  /* Mobile - 360px */
  @media only screen and (min-width: 0em) {
    #sbs {
      padding: var(--sectionPadding);

      .cs-container {
        width: 100%;
        max-width: (1280/16rem);
        margin: auto;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        row-gap: (40/16rem);
      }

      .cs-left {
        /* scaling the font size with the view width */
        font-size: ~'min(2.31vw, .7em)';
        /* using ems so we can use font size to scale the whole section */
        width: (631/16em);
        height: (636/16em);
        position: relative;
      }

      .cs-picture {
        border-radius: (24/16em);
        display: block;
        position: absolute;
        /* clips img tag corners */
        overflow: hidden;
        img {
          width: 100%;
          height: 100%;
          /* makes image act like a background image */
          object-fit: cover;
          position: absolute;
          top: 0;
          left: 0;
        }
      }

      .cs-picture1 {
        width: (522/16em);
        height: (581/16em);
        top: 0;
        left: 0;
      }

      .cs-picture2 {
        width: (414/16em);
        height: (400/16em);
        background-color: #fff;
        box-shadow: rgba(0, 0, 0, 0.1) 0px 0px 40px;
        /* 6px - 12px */
        border: clamp(0.375em, 1.5vw, 0.75em) solid #fff;
        right: 0;
        bottom: 0;
      }

      .cs-right {
        max-width: (542/16rem);
        margin: auto;
      }

      .cs-topper {
        text-align: left;
        margin-bottom: (4/16rem);
      }

      .cs-title {
        text-align: left;
        max-width: (800/16rem);
      }

      .cs-text {
        text-align: left;
        max-width: (750/16rem);
        margin-bottom: (16/16rem);
        color: var(--bodyTextColor);

        &:last-of-type {
          margin-bottom: (32/16rem);
        }
      }

      .cs-flex-group {
        /* 16px - 32px */
        padding: clamp(1rem, 3vw, 2rem);
        background-color: #f7f7f7;
        border-radius: (16/16rem);
        position: relative;
      }

      .cs-flex-p {
        /* 14px - 16px */
        font-size: clamp(0.875rem, 1.5vw, 1rem);
        line-height: 1.5em;
        margin: 0 0 (16/16rem);
        color: #353535;
      }

      .cs-name {
        font-size: (16/16rem);
        font-weight: bold;
        line-height: 1.2em;
        text-transform: uppercase;
        margin: 0 0 (4/16rem);
        color: var(--headerColor);
        display: block;
      }

      .cs-job {
        font-size: (14/16rem);
        line-height: 1.5em;
        color: #353535;
        display: block;
      }

      .cs-quote-icon {
        /* 60px - 136px */
        width: clamp(3.75rem, 10vw, 8.5rem);
        height: auto;
        position: absolute;
        /* 16px - 32px */
        right: clamp(1rem, 4vw, 2rem);
        bottom: (0/16rem);
      }

      .cs-button-solid {
        margin-top: (32/16rem);
      }
    }
  }

  /* Desktop - 1024px */
  @media only screen and (min-width: 64em) {
    #sbs {
      .cs-container {
        flex-flow: row;
        justify-content: space-between;
        gap: (52/16rem);
      }

      .cs-left {
        font-size: ~'min(1.2vw, 1em)';
        flex: none;
      }

      .cs-right {
        margin: 0;
      }
    }
  }

  /* Dark Mode */
  @media only screen and (min-width: 0em) {
    body.dark-mode {
      #sbs {
        .cs-left {
          &:before,
          &:after {
            background: var(--accent);
          }
        }

        .cs-picture2 {
          background-color: var(--dark);
          /* 6px - 12px */
          border: clamp(0.375em, 1.5vw, 0.75em) solid var(--dark);
        }

        .cs-topper {
          color: var(--primaryLight);
        }

        .cs-title,
        .cs-text,
        .cs-h3,
        .cs-flex-p,
        .cs-name {
          color: var(--bodyTextColorWhite);
        }

        .cs-flex-group {
          background-color: var(--accent);
        }

        .cs-job {
          color: var(--bodyTextColorWhite);
          opacity: 0.8;
        }

        .cs-quote-icon {
          opacity: 0.2;
        }
      }
    }
  }
</style>
